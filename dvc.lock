schema: '2.0'
stages:
  electronics:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-electronics-store\
      \ --unzip -p data/external/electronics\n"
    outs:
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
  brazil:
    cmd: "kaggle datasets download olistbr/brazilian-ecommerce --unzip -p data/external/brazilian\n"
    outs:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
  retail_ecommerce:
    cmd: "kaggle datasets download -d retailrocket/ecommerce-dataset --unzip -p data/external/retailrocket\n"
    outs:
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
  ecommerce:
    cmd: "kaggle datasets download -d carrie1/ecommerce-data --unzip -p data/external/ecommerce\n"
    outs:
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
  data:
    cmd: echo "Pulling all data"
    deps:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
    - path: data/external/jewelry
      md5: dd8945fd9d319147f89e3e6992068ebd.dir
      size: 16403569
      nfiles: 1
    - path: data/external/journey
      md5: 4b4e52dd236f59e0df5c6731b5bf2ba2.dir
      size: 847048344
      nfiles: 8
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  ecommerce_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-EDA.ipynb\n"
    deps:
    - path: data/external/ecommerce/data.csv
      md5: 0b010f31b58364489e68e4b54d106598
      size: 45580638
    - path: notebooks/ECommerce-Implicit-EDA.ipynb
      md5: f307af88542016936814c83d34a8b7ff
      size: 690562
    outs:
    - path: data/interim/ecommerce/item_lookup.csv
      md5: ba75d28f67bc5eb3cbd6f47438fcef4c
      size: 143619
    - path: data/interim/ecommerce/item_lookup.gz
      md5: 3093b4eeaddfa04d4dc7a06ed938f62b
      size: 52463
    - path: data/interim/ecommerce/selected_invoices.csv
      md5: d985d6da832a86eab9b92ba1d2dffaf6
      size: 3982669
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: ca9582123ee770b346fd16dd42672dcc
      size: 714604
  ecommerce_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: ca9582123ee770b346fd16dd42672dcc
      size: 714604
    - path: notebooks/ECommerce-Implicit-Recommendation.ipynb
      md5: f4a02cd4b0a9a28e9f025806fb9f3fc7
      size: 32488
    outs:
    - path: data/interim/ecommerce/item_factors.npy
      md5: eda98edb81c7082db8da5ccfcb2a842c
      size: 867456
    - path: data/interim/ecommerce/product_train.npy
      md5: e917587c508d43bc6845282b4ed52f36
      size: 784691
    - path: data/interim/ecommerce/user_factors.npy
      md5: 4e06015d26f8caba1a52eeed250356e0
      size: 1474944
  vipin20:
    cmd: "kaggle datasets download -d vipin20/transaction-data --unzip -p data/external/vipin20\n"
    outs:
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  vipin20_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Transaction-Data-EDA.ipynb\n"
    deps:
    - path: data/external/vipin20/transaction_data.csv
      md5: 4a55f0165a2da37e7a189ab0c0507868
      size: 125250157
    - path: notebooks/vipin20-Transaction-Data-EDA.ipynb
      md5: 8bfa7f4764ad25783cba8cdeaa4c19e8
      size: 1213199
    outs:
    - path: data/interim/vipin20/transactions.gz
      md5: 7a161883e38483f14a8aed8fbca84f9c
      size: 20278151
  vipin20_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/vipin20/transactions.gz
      md5: 7a161883e38483f14a8aed8fbca84f9c
      size: 20278151
    - path: notebooks/vipin20-Implicit-Recommendation.ipynb
      md5: 4344d4c08e7597db67b396d84a47e4f9
      size: 34519
    outs:
    - path: data/interim/vipin20/item_factors.npy
      md5: 65889a410fa96685946c8be55c982cf1
      size: 830080
    - path: data/interim/vipin20/product_train.npy
      md5: 80b3fbc22c8736be525723ebff3f3043
      size: 4618183
    - path: data/interim/vipin20/user_factors.npy
      md5: 11c589b2f3db98460e3328bc381e5580
      size: 4862848
  jewewlry:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-jewelry-store\
      \ --unzip -p data/external/jewelry\n"
    outs:
    - path: data/external/jewelry
      md5: dd8945fd9d319147f89e3e6992068ebd.dir
      size: 16403569
      nfiles: 1
  journey:
    cmd: "kaggle datasets download frtgnn/dunnhumby-the-complete-journey --unzip -p\
      \ data/external/journey\n"
    outs:
    - path: data/external/journey
      md5: 4b4e52dd236f59e0df5c6731b5bf2ba2.dir
      size: 847048344
      nfiles: 8
