schema: '2.0'
stages:
  electronics:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-electronics-store\
      \ --unzip -p data/external/electronics\n"
    outs:
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
  brazil:
    cmd: "kaggle datasets download olistbr/brazilian-ecommerce --unzip -p data/external/brazilian\n"
    outs:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
  retail_ecommerce:
    cmd: "kaggle datasets download -d retailrocket/ecommerce-dataset --unzip -p data/external/retailrocket\n"
    outs:
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
  ecommerce:
    cmd: "kaggle datasets download -d carrie1/ecommerce-data --unzip -p data/external/ecommerce\n"
    outs:
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
  data:
    cmd: echo "Pulling all data"
    deps:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
    - path: data/external/jewelry
      md5: dd8945fd9d319147f89e3e6992068ebd.dir
      size: 16403569
      nfiles: 1
    - path: data/external/journey
      md5: 4b4e52dd236f59e0df5c6731b5bf2ba2.dir
      size: 847048344
      nfiles: 8
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  ecommerce_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-EDA.ipynb\n"
    deps:
    - path: data/external/ecommerce/data.csv
      md5: 0b010f31b58364489e68e4b54d106598
      size: 45580638
    - path: notebooks/ECommerce-Implicit-EDA.ipynb
      md5: d58a6823cd17040bdedef7f117995127
      size: 690574
    outs:
    - path: data/interim/ecommerce/item_lookup.csv
      md5: ba75d28f67bc5eb3cbd6f47438fcef4c
      size: 143619
    - path: data/interim/ecommerce/item_lookup.gz
      md5: c276778091ffd6d2b0b097718a3595c4
      size: 52491
    - path: data/interim/ecommerce/selected_invoices.csv
      md5: d985d6da832a86eab9b92ba1d2dffaf6
      size: 3982669
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: 6d1a5e232660946fe21e63b7be5a95c2
      size: 714572
  ecommerce_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: 6d1a5e232660946fe21e63b7be5a95c2
      size: 714572
    - path: notebooks/ECommerce-Implicit-Recommendation.ipynb
      md5: 61dac5ca2abf6b2ad158638f5657afc4
      size: 32476
    outs:
    - path: data/interim/ecommerce/item_factors.npy
      md5: 67d0bafc78ad3b71ded0e4013517b239
      size: 867456
    - path: data/interim/ecommerce/product_train.npy
      md5: e917587c508d43bc6845282b4ed52f36
      size: 784691
    - path: data/interim/ecommerce/user_factors.npy
      md5: cc964c1a9b014ea7208b1f563c3e7cba
      size: 1474944
  vipin20:
    cmd: "kaggle datasets download -d vipin20/transaction-data --unzip -p data/external/vipin20\n"
    outs:
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  vipin20_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Transaction-Data-EDA.ipynb\n"
    deps:
    - path: data/external/vipin20/transaction_data.csv
      md5: 4a55f0165a2da37e7a189ab0c0507868
      size: 125250157
    - path: notebooks/vipin20-Transaction-Data-EDA.ipynb
      md5: e5ee407e87c9f2fd99092067e265f6c3
      size: 1213199
    outs:
    - path: data/interim/vipin20/transactions.gz
      md5: e57384a75807c5487ff87f2019c4cd22
      size: 20278097
  vipin20_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/vipin20/transactions.gz
      md5: e57384a75807c5487ff87f2019c4cd22
      size: 20278097
    - path: notebooks/vipin20-Implicit-Recommendation.ipynb
      md5: a16f5366085935b912ea5578eb33a5a7
      size: 34468
    outs:
    - path: data/interim/vipin20/item_factors.npy
      md5: 2aa733d0eadbf6a7a3eda5864ce19456
      size: 830080
    - path: data/interim/vipin20/product_train.npy
      md5: 80b3fbc22c8736be525723ebff3f3043
      size: 4618183
    - path: data/interim/vipin20/user_factors.npy
      md5: 7cde39bc958025fcc9cd832709f3f74f
      size: 4862848
  jewewlry:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-jewelry-store\
      \ --unzip -p data/external/jewelry\n"
    outs:
    - path: data/external/jewelry
      md5: dd8945fd9d319147f89e3e6992068ebd.dir
      size: 16403569
      nfiles: 1
  journey:
    cmd: "kaggle datasets download frtgnn/dunnhumby-the-complete-journey --unzip -p\
      \ data/external/journey\n"
    outs:
    - path: data/external/journey
      md5: 4b4e52dd236f59e0df5c6731b5bf2ba2.dir
      size: 847048344
      nfiles: 8
