schema: '2.0'
stages:
  electronics:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-electronics-store\
      \ --unzip -p data/external/electronics\n"
    outs:
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
  brazil:
    cmd: "kaggle datasets download olistbr/brazilian-ecommerce --unzip -p data/external/brazilian\n"
    outs:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
  retail_ecommerce:
    cmd: "kaggle datasets download -d retailrocket/ecommerce-dataset --unzip -p data/external/retailrocket\n"
    outs:
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
  ecommerce:
    cmd: "kaggle datasets download -d carrie1/ecommerce-data --unzip -p data/external/ecommerce\n"
    outs:
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
  data:
    cmd: echo "Pulling all data"
    deps:
    - path: data/external/brazilian
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
    - path: data/external/electronics
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
    - path: data/external/retailrocket
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  ecommerce_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-EDA.ipynb\n"
    deps:
    - path: data/external/ecommerce/data.csv
      md5: 0b010f31b58364489e68e4b54d106598
      size: 45580638
    - path: notebooks/ECommerce-Implicit-EDA.ipynb
      md5: f307af88542016936814c83d34a8b7ff
      size: 690562
    outs:
    - path: data/interim/ecommerce/item_lookup.csv
      md5: ba75d28f67bc5eb3cbd6f47438fcef4c
      size: 143619
    - path: data/interim/ecommerce/item_lookup.gz
      md5: 3093b4eeaddfa04d4dc7a06ed938f62b
      size: 52463
    - path: data/interim/ecommerce/selected_invoices.csv
      md5: d985d6da832a86eab9b92ba1d2dffaf6
      size: 3982669
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: ca9582123ee770b346fd16dd42672dcc
      size: 714604
  ecommerce_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/ecommerce/selected_invoices.gz
      md5: ca9582123ee770b346fd16dd42672dcc
      size: 714604
    - path: notebooks/ECommerce-Implicit-Recommendation.ipynb
      md5: 05af3d5fe214f39092fad6ea5a09ed66
      size: 38890
    outs:
    - path: data/interim/ecommerce/item_factors.npy
      md5: 35bf0e2d713fe5b350f942a12adbd628
      size: 867456
    - path: data/interim/ecommerce/product_train.npy
      md5: e917587c508d43bc6845282b4ed52f36
      size: 784691
    - path: data/interim/ecommerce/user_factors.npy
      md5: e3eb886a298e1a296298eb91aaa656d0
      size: 1474944
  vipin20:
    cmd: "kaggle datasets download -d vipin20/transaction-data --unzip -p data/external/vipin20\n"
    outs:
    - path: data/external/vipin20
      md5: f6734c217db2ee68db9aabcb791ea957.dir
      size: 125250157
      nfiles: 1
  vipin20_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Transaction-Data-EDA.ipynb\n"
    deps:
    - path: data/external/vipin20/transaction_data.csv
      md5: 4a55f0165a2da37e7a189ab0c0507868
      size: 125250157
    - path: notebooks/vipin20-Transaction-Data-EDA.ipynb
      md5: abd9b506110e30e010b7114770bc007b
      size: 1037916
    outs:
    - path: data/interim/vipin20/transactions.gz
      md5: 8192dfc9934907920fe3b6387985cb32
      size: 18493182
  vipin20_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute vipin20-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/vipin20/transactions.gz
      md5: 8192dfc9934907920fe3b6387985cb32
      size: 18493182
    - path: notebooks/vipin20-Implicit-Recommendation.ipynb
      md5: deb3ebf6f5817164ecd667ef4f101c4b
      size: 31754
    outs:
    - path: data/interim/vipin20/item_factors.npy
      md5: 13d39764d3e716805c524b3ded141842
      size: 872320
    - path: data/interim/vipin20/product_train.npy
      md5: 8daa4aef0f26632a64c1c6e205192fd9
      size: 4930663
    - path: data/interim/vipin20/user_factors.npy
      md5: e6da191cb988089663b070b5bf439f14
      size: 6630528
