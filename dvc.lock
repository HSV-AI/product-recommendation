schema: '2.0'
stages:
  electronics:
    cmd: "kaggle datasets download mkechinov/ecommerce-purchase-history-from-electronics-store\
      \ --unzip -p data/external/ecommerce-purchase-history-from-electronics-store/.\n"
    outs:
    - path: data/external/ecommerce-purchase-history-from-electronics-store
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
  brazil:
    cmd: "kaggle datasets download olistbr/brazilian-ecommerce --unzip -p data/external/brazilian-ecommerce\n"
    outs:
    - path: data/external/brazilian-ecommerce
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
  retail_ecommerce:
    cmd: "kaggle datasets download -d retailrocket/ecommerce-dataset --unzip -p data/external/ecommerce-dataset\n"
    outs:
    - path: data/external/ecommerce-dataset
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
  ecommerce:
    cmd: "kaggle datasets download -d carrie1/ecommerce-data --unzip -p data/external/ecommerce\n"
    outs:
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
  data:
    cmd: echo "Pulling all data"
    deps:
    - path: data/external/brazilian-ecommerce
      md5: a08f215af3c2085b9e19407925683ed6.dir
      size: 126144332
      nfiles: 9
    - path: data/external/ecommerce
      md5: 33fb1e3b72d99164291c38f4d8d073dc.dir
      size: 45580638
      nfiles: 1
    - path: data/external/ecommerce-dataset
      md5: 19cdee87944c59fc15c51396fe37cd88.dir
      size: 987498023
      nfiles: 4
    - path: data/external/ecommerce-purchase-history-from-electronics-store
      md5: feb282f55dc5fb63e386071091f83047.dir
      size: 298649047
      nfiles: 1
  ecommerce_implicit_eda:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-EDA.ipynb\n"
    deps:
    - path: data/external/ecommerce/data.csv
      md5: 0b010f31b58364489e68e4b54d106598
      size: 45580638
    - path: notebooks/ECommerce-Implicit-EDA.ipynb
      md5: 2848fdde3589df710fe6ec0578500713
      size: 81033
    outs:
    - path: data/interim/item_lookup.csv
      md5: ba75d28f67bc5eb3cbd6f47438fcef4c
      size: 143619
    - path: data/interim/item_lookup.gz
      md5: 6452997c37138fd9a2d866ddf221182b
      size: 52463
    - path: data/interim/selected_invoices.csv
      md5: 86f58de254ac358d7977c6ac5e708050
      size: 1601129
    - path: data/interim/selected_invoices.gz
      md5: d2d8aeec1e10f592ddbeb3525251cb08
      size: 361053
  ecommerce_implicit_recommendation:
    cmd: "cd notebooks && jupyter nbconvert --to notebook --inplace --execute ECommerce-Implicit-Recommendation.ipynb\n"
    deps:
    - path: data/interim/selected_invoices.gz
      md5: 2013cd00c1a77b2c180fae9db1d5aaf8
      size: 361053
    - path: notebooks/ECommerce-Implicit-Recommendation.ipynb
      md5: 1aeda1517cac4d886196c952f37b9536
      size: 52508
    outs:
    - path: data/interim/item_factors.npy
      md5: 1dba50e65a3e5c9ee997fc70d56cf56d
      size: 867456
    - path: data/interim/product_train.npy
      md5: e917587c508d43bc6845282b4ed52f36
      size: 784691
    - path: data/interim/user_factors.npy
      md5: 37b11097ca77282d274c1292607e960a
      size: 1474944
